syntax = "proto3";

package schedule;

service ScheduleService {
    rpc GetWorkout(GetWorkoutRequest) returns (WorkoutResponse);
    rpc GetWorkouts(GetWorkoutsRequest) returns (WorkoutsResponse);
    rpc CreateWorkout(CreateWorkoutRequest) returns (WorkoutResponse);
    rpc UpdateWorkout(UpdateWorkoutRequest) returns (WorkoutResponse);
    rpc DeleteWorkout(DeleteWorkoutRequest) returns (SuccessResponse);
    rpc ReserveSlot(ReserveSlotRequest) returns (ReserveSlotResponse);
    rpc CancelReservation(CancelReservationRequest) returns (SuccessResponse);
    rpc GetTrainers(Empty) returns (TrainersResponse);
    rpc GetRooms(Empty) returns (RoomsResponse);
}

message Empty {}

message GetWorkoutRequest {
    string workout_id = 1;
}

message GetWorkoutsRequest {
    string date_from = 1;
    string date_to = 2;
}

message CreateWorkoutRequest {
    string name = 1;
    string trainer_id = 2;
    string room_id = 3;
    string datetime = 4;
    int32 max_participants = 5;
    string description = 6;
}

message UpdateWorkoutRequest {
    string workout_id = 1;
    string name = 2;
    string trainer_id = 3;
    string room_id = 4;
    string datetime = 5;
    int32 max_participants = 6;
    int32 current_participants = 7;
    string description = 8;
    string status = 9;
}

message DeleteWorkoutRequest {
    string workout_id = 1;
}

message ReserveSlotRequest {
    string workout_id = 1;
}

message CancelReservationRequest {
    string workout_id = 1;
}

message WorkoutResponse {
    string workout_id = 1;
    string name = 2;
    string trainer_id = 3;
    string room_id = 4;
    string datetime = 5;
    int32 max_participants = 6;
    int32 current_participants = 7;
    string description = 8;
    string status = 9;
}

message WorkoutsResponse {
    repeated WorkoutResponse workouts = 1;
}

message SuccessResponse {
    bool success = 1;
    string message = 2;
}

message ReserveSlotResponse {
    bool success = 1;
    string message = 2;
    int32 current_participants = 3;
}

message TrainerResponse {
    string trainer_id = 1;
    string name = 2;
    string specialty = 3;
    string email = 4;
    string phone = 5;
}

message TrainersResponse {
    repeated TrainerResponse trainers = 1;
}

message RoomResponse {
    string room_id = 1;
    string name = 2;
    int32 capacity = 3;
}

message RoomsResponse {
    repeated RoomResponse rooms = 1;
}