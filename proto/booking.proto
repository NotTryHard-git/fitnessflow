syntax = "proto3";

package booking;

service BookingService {
    rpc CreateBooking(CreateBookingRequest) returns (BookingResponse);
    rpc CancelBooking(CancelBookingRequest) returns (SuccessResponse);
    rpc GetBooking(GetBookingRequest) returns (BookingResponse);
    rpc GetUserBookings(GetUserBookingsRequest) returns (UserBookingsResponse);
}

message CreateBookingRequest {
    string user_id = 1;
    string workout_id = 2;
}

message CancelBookingRequest {
    string booking_id = 1;
    string reason = 2;
}

message GetBookingRequest {
    string booking_id = 1;
}

message GetUserBookingsRequest {
    string user_id = 1;
    optional string status = 2;
}

message BookingResponse {
    string booking_id = 1;
    string user_id = 2;
    string workout_id = 3;
    string status = 4;
    string created_at = 5;
    string updated_at = 6;
    string reason = 7;
}

message UserBookingsResponse {
    repeated BookingResponse bookings = 1;
}

message SuccessResponse {
    bool success = 1;
    string message = 2;
}

message Empty {}